Topics Covered: Count, Limit, Between, In, Groupby and Having Joins and Unions


Group By command which tells the database to separate your data into groups, which can then be aggregated independently.

Group by needs to be tagged with an aggrate function

With group by you need the entity you are grouping by in the select statement 

Basic grouping by customer ID

  Select customer_id from payment group by customer_id;

Group By Problem 1:
2 parts: 
1.who handled the most payments
2.how much was the total of those payments

  select count(payment_id), staff_id from payment group by staff_id



Group by problem 2: A company needs to find 5 customers who spend the least

  select min(amount) , customer_id from payment group by customer_id order by customer_id limit 5

Incorrect

first find customer ids
then find sum of amounts

group by customer id
order by sum amounts 
limit 5

Correct answer
  select min(amount) , customer_id from payment group by customer_id order by customer_id limit 5

__________________________________________________________________________________________________

Select acts on fields
from acts on tables 
where actis on records - filter global
group by acts on records - filter local
having acts on groups - filter local
order by acts on records
limit acts records


__________________________________________________________________________________________________

Having filter your query by elimiting rows that dont meat a specific condition

Having Syntax

Select columnlist
from tablelist
where condition
group by columnlist
having condition
order by columnlust

__________________________________________________________________________________________

What question does this query answer

select customer_id, sum(amount) from payment group by customer_id

select customer_id, sum(amount) from payment group by customer_id having sum(amount) > 200;



select store_id, count(customer_id) from customer group by store_id;

  How many unique customers went into a store

select store_id, count(customer_id) from customer group by store_id having count(customer_id) > 300;

  how many customers went into a store with a count under 300

_____________________________________________________________________________________________________________

Timestamp data tracks time
